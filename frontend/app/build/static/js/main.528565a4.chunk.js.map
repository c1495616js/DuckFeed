{"version":3,"sources":["components/SidePanel/UserPanel.js","actions/index.js","actions/types.js","Api.js","components/SidePanel/FeedPanel.js","components/SidePanel/Contribution.js","components/SidePanel/SidePanel.js","components/Dashboard/DataTable.js","components/Dashboard/DataVisual/DataPoints.js","components/Dashboard/DataVisual/Food.js","components/Dashboard/DataVisual/Where.js","components/Dashboard/DataVisual/Time.js","components/Dashboard/DataVisual/FoodKind.js","components/Dashboard/DataVisual/DataVisual.js","components/Dashboard/Search.js","components/Dashboard/Dashboard.js","components/App.js","components/Auth/Login.js","components/Auth/Register.js","Spinner.js","serviceWorker.js","reducers/index.js","index.js"],"names":["UserPanel","state","user","_this","props","currentUser","dropdownOptions","key","text","react_default","a","createElement","name","disabled","onClick","handleSignout","localStorage","setItem","window","location","reload","this","Grid","style","background","Column","Row","padding","margin","Header","inverted","floated","as","Icon","Content","Dropdown","trigger","options","Component","doSearch","search","type","payload","currentSearch","Api","axios","create","baseURL","getItem","defaults","headers","common","initFeedState","park","time","moment","format","numbers","kind","amount","is_regular","FeedPanel","feeds","Object","assign","modal","errors","loading","fetchMyFeeds","post","qs","stringify","page_disabled","user_id","id","then","r","data","_ref","list","error_code","console","log","setState","catch","err","error","addFeed","_this$state","newFeed","toLowerCase","objectSpread","closeModal","handleSubmit","event","preventDefault","isFormValid","isFormEmpty","message","concat","isAmountValid","_ref2","length","_ref3","isNaN","displayErrors","map","i","handleChange","checked","defineProperty","target","value","handleTimeChange","_ref4","hasOwnProperty","handleInputError","inputName","some","includes","opneModal","_this$state2","Fragment","Menu","paddingBottom","Item","Modal","basic","open","onClose","Form","onSubmit","Label","color","tag","Field","Input","fluid","label","className","onChange","dist","placeholder","iconPosition","closeOnMouseLeave","min","Segment","Checkbox","Message","Actions","Button","connect","Contribution","fetchData","contribution","displayTableCell","index","Table","Cell","textAlign","user_name","total_cnt","colSpan","Array","isArray","celled","collapsing","HeaderCell","Body","SidePanel","size","fixed","vertical","fontSize","SidePanel_UserPanel","SidePanel_FeedPanel","SidePanel_Contribution","DataTable","page","pages","p","arguments","undefined","need_pages","renewData","displayTableBody","Dimmer","active","Loader","displayPages","fill","row","changePage","_this2","search_park","JSON","search_food","search_kind","_this3","structured","rowSpan","Footer","pagination","icon","w","d","document","e","documentElement","g","getElementsByTagName","width","innerWidth","clientWidth","changeData","x","parseFloat","y","Math","random","opacity","Park","Date","Time","Numbers","Food","Kind","Amount","colorRanges","typeA","typeB","DataPoints","drawMode","colorType","markSeriesProps","animation","sizeRange","seriesId","colorRange","opacityType","onNearestXY","react_vis_es","onMouseLeave","height","xDomain","React","labels","total_amount","allAmount","reduce","sum","datasets","backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","what_food","react_chartjs_2_es","total_numbers","allNumbers","Where","where","what_time","FoodKind","kind_food","DataVisual","marginBottom","DataVisual_DataPoints","columns","DataVisual_Time","DataVisual_Where","DataVisual_Food","DataVisual_FoodKind","Search","parkOptions","foodOptions","kindOptions","fetchOptionData","option_park","option_food","option_kind","j","handleParkChange","handleFoodChange","handleKindChange","_ref5","multiple","selection","Dashboard","Dashboard_Search","DataVisual_DataVisual","Dashboard_DataTable","SidePanel_SidePanel","marginLeft","Dashboard_Dashboard","Login","email","password","join","token","setUser","history","push","verticalAlign","maxWidth","stacked","Link","to","Register","passwordConfirmation","isPasswordValid","Spinner","content","Boolean","hostname","match","initialUser","isLoading","initialSearch","rootReducer","combineReducers","action","store","createStore","rootReducers","composeWithDevTools","Root","componentDidMount","valid","clearUser","src_Spinner","Switch","Route","exact","path","component","App","render","Login_Login","Register_Register","RootWithAuth","withRouter","ReactDOM","es","BrowserRouter","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.528565a4.chunk.js","sourcesContent":["import React, { Component } from 'react'\n\nimport { Grid, Header, Icon, Dropdown } from 'semantic-ui-react'\n\n\nclass UserPanel extends Component {\n  state = {\n    user: this.props.currentUser\n  }\n\n  dropdownOptions = () => [\n    {\n      key: \"user\",\n      text: (\n        <span>\n          Signed in as <strong>{this.state.user.name}</strong>\n        </span>\n      ),\n      disabled: true\n    },    \n    {\n      key: \"signout\",\n      text: <p onClick={this.handleSignout}>Sign Out</p>,      \n    }\n  ]\n\n  handleSignout = () => {         \n    localStorage.setItem('ACCESS_TOKEN', '');\n    window.location.reload();    \n  }\n\n  render() {\n    const { user } = this.state;\n    return (\n      <div>\n        <Grid style={{ background: '#4c3c4c' }}>\n          <Grid.Column>\n            <Grid.Row style={{ padding: '1.2em', margin: 0 }} >\n              {/* App Header */}\n              <Header inverted floated=\"left\" as=\"h2\">\n                <Icon name=\"paw\" />\n                <Header.Content>DuckFeed</Header.Content>\n              </Header>\n            </Grid.Row>\n\n            {/* User Dropdown */}\n            <Header style={{padding:'0.25em'}} as=\"h4\" inverted>\n              <Dropdown \n                trigger={\n                <span>\n                  {user.name}\n                </span>} \n                options={this.dropdownOptions()} \n              />              \n            </Header>\n          </Grid.Column>\n        </Grid>\n      </div>\n    )\n  }\n}\n\nexport default UserPanel;","import * as actionTypes from './types';\n\n\n/* User Actions */\nexport const setUser = user => {\n  return {\n    type: actionTypes.SET_USER,\n    payload: {\n      currentUser: user\n    }\n  }\n}\n\nexport const clearUser = () => {\n  return {\n    type: actionTypes.CLEAR_USER\n  }\n}\n\n/* Search Actions */ \n\nexport const doSearch = search => {\n  return {\n    type: actionTypes.DO_SEARCH,\n    payload: {\n      currentSearch: search\n    }\n  }\n}\n","/* User Action Types */\nexport const SET_USER = 'SET_USER';\nexport const CLEAR_USER = 'CLEAR_USER';\n\n/* Search Action Types */\nexport const DO_SEARCH = 'DO_SEARCH';","import axios from 'axios';\n\n// const baseURL = process.env.API_HOST || 'http://localhost:8000/index.php/';\nlet Api = axios;\n\nif(process.env.NODE_ENV === 'production'){\n  const baseURL = 'http://localhost:8000/index.php/';\n  Api = axios.create({\n  baseURL\n  });\n}\n\nif(localStorage.getItem('ACCESS_TOKEN')){\n  Api.defaults.headers.common['Authorization'] = localStorage.getItem('ACCESS_TOKEN');\n}\n\nexport default Api;\n\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux';\nimport { doSearch } from '../../actions';\n\nimport moment from 'moment';\nimport Api from '../../Api';\nimport qs from 'qs';\n\nimport { Menu, Icon, Modal, Form, Input, Button, Label, Message, Checkbox, Segment } from 'semantic-ui-react'\nimport { DateTimeInput } from 'semantic-ui-calendar-react';\n\nconst initFeedState = {\n  /// basic\n  park: '',  \n  time: moment().format('DD/MM/YYYY HH:mm'),\n  numbers: 1,\n  // food\n  name: '',\n  kind: '',\n  amount: 0,\n  is_regular: 0\n}\nclass FeedPanel extends Component {\n  state = {    \n    user: this.props.currentUser,\n    feeds: [],\n    ...Object.assign({}, initFeedState),\n    modal: false,    \n    errors: [],\n    loading: false\n  }\n\n  componentDidMount(){\n    this.fetchMyFeeds()\n  }\n\n\n  fetchMyFeeds = () => {\n    Api.post('feed/list_feed',\n      qs.stringify({page_disabled:true, user_id: this.state.user.id})\n    ).then(r => r.data)\n    .then(({ list, error_code })=>{\n      if(error_code === 'Authorization Error'){                \n        return;\n      }\n      console.log('list:', list)\n      this.setState({ feeds: list });          \n    })\n    .catch( err =>{\n      console.error(err);\n    })\n  }\n\n\n  addFeed = () => {\n    const { park, time, numbers, name, kind, amount, user, is_regular } = this.state;\n    \n    const newFeed = {\n      park: park.toLowerCase(),\n      time: moment(time, 'DD/MM/YYYY HH:mm').format('YYYY-MM-DD HH:mm'),\n      numbers,\n      name: name.toLowerCase(),\n      kind: kind.toLowerCase(),\n      amount,\n      user_id: user.id,\n      is_regular\n    }\n   \n    Api.post('feed/add_feed',\n      qs.stringify(newFeed)\n    ).then(()=>{\n          this.setState(\n            {\n            ...Object.assign({}, initFeedState),\n            loading: false\n            },\n            ()=>{\n              this.fetchMyFeeds();\n              // this.props.doSearch(this.props.search);\n              this.props.doSearch([]);\n            }\n          );\n          this.closeModal();          \n          console.log('feed added')          \n        })\n    .catch( err =>{\n      console.error(err);\n      this.setState({loading: false});\n    })\n  }\n\n  handleSubmit = event => {\n    event.preventDefault();\n    if(!this.isFormValid()) return    \n    this.setState({ errors: [], loading: true}); \n    this.addFeed();    \n  }\n\n  // errors\n  isFormValid = () => {\n    let errors = [];\n    let error;\n\n    if(this.isFormEmpty(this.state)){\n      // throw errors\n      error = {message: 'Fill in all fields'};\n      this.setState({errors: errors.concat(error)})\n      return false\n    } else if(!this.isAmountValid(this.state)){\n      // throw errors\n      error = { message: 'Amount is float number and greater than zero'};\n      this.setState({errors:errors.concat(error)});\n    } else {\n      return true;\n    }\n  }\n\n  isFormEmpty = ({ park, time, name, kind, amount }) => {  \n    return !park.length || !time.length  || !name.length || !kind.length || !amount.length\n  }\n\n  isAmountValid = ({amount}) => {  \n    return !isNaN(amount) && amount > 0;\n  }\n\n  displayErrors = errors => errors.map((error, i)=> <p key={i}>{error.message}</p>);\n\n\n  // input change\n  handleChange = (event, data) => {    \n    if(data && data.name === 'is_regular'){      \n      this.setState({is_regular: data.checked ? 1 : 0});\n    }\n    this.setState({[event.target.name]: event.target.value});\n  }\n\n  handleTimeChange = (event, {name, value}) => {    \n    if (this.state.hasOwnProperty(name)) {\n      this.setState({ [name]: value });\n    }\n  }\n\n\n  handleInputError = (errors, inputName) => {\n    return errors.some(error => error.message.toLowerCase().includes(inputName))\n      ? \"error\"\n      : \"\";\n  };\n\n  // open the modal\n  opneModal = () => {\n    this.setState({modal: true})\n  }\n\n  // close the modal\n  closeModal = () => {\n    this.setState({modal: false})\n  }\n\n  render() {\n    const { feeds, modal, errors, loading } = this.state;\n\n    return (\n      <React.Fragment>\n        <Menu.Menu style={{ paddingBottom: '2em' }} >\n          <Menu.Item>\n            <span>\n              <Icon name=\"cloud upload\" /> Feeds\n            </span>{\" \"}\n            ({feeds.length}) <Icon name=\"add\" onClick={this.opneModal}/>\n          </Menu.Item>          \n        </Menu.Menu> \n        \n        {/* Add Feed Modal */}\n\n        <Modal basic open={modal} onClose={this.closeModal}>\n          <Modal.Header><Icon name=\"paw\" /> Add Feed</Modal.Header>\n          <Modal.Content>\n            <Form onSubmit={this.handleSubmit}>\n            \n             {/* Basic */}\n              \n              <div style={{margin:'15px 0'}}>              \n                <Label color='teal' tag>\n                  <Icon name=\"book\" /><span>Basic Information</span>\n                </Label>\n              </div>                 \n                          \n              <Form.Field>\n                <Input \n                  fluid\n                  label=\"Park Name\"\n                  name=\"park\"\n                  value={this.state.park}\n                  className={this.handleInputError(errors, \"park\")}\n                  onChange={this.handleChange}\n                />                \n              </Form.Field>\n\n              <Form.Field>\n                <DateTimeInput\n                  name=\"time\"\n                  placeholder=\"Date Time\"\n                  value={this.state.time}\n                  iconPosition=\"left\"\n                  closeOnMouseLeave={false}\n                  onChange={this.handleTimeChange} \n                />                           \n              </Form.Field>\n\n              <Form.Field>\n                <Input               \n                  fluid\n                  type=\"number\"\n                  label=\"Numbers\"\n                  name=\"numbers\"\n                  value={this.state.numbers}                  \n                  onChange={this.handleChange}\n                  min=\"1\"\n                />                \n              </Form.Field>\n\n              <Form.Field>\n                <Segment>\n                  <Checkbox \n                    label='Is Repeating' \n                    \n                    name=\"is_regular\"                    \n                    onChange={this.handleChange}\n                  />\n                </Segment>\n              </Form.Field>\n\n              {/* Food */}\n              \n              <div style={{margin:'15px 0'}}>\n              <Label  color='red' tag>\n              <Icon name=\"food\" /><span>Food Information</span>\n              </Label>\n              </div>   \n              \n              <Form.Field>\n                <Input \n                  fluid\n                  label=\"Food Name\"\n                  name=\"name\"\n                  value={this.state.name}\n                  onChange={this.handleChange}\n                />                \n              </Form.Field>\n\n              <Form.Field>\n                <Input \n                  fluid\n                  label=\"Food Kind\"\n                  name=\"kind\"\n                  value={this.state.kind}\n                  onChange={this.handleChange}\n                />                \n              </Form.Field>\n\n              <Form.Field>\n                <Input \n                  fluid\n                  label=\"Food Amount (kg)\"\n                  name=\"amount\"\n                  value={this.state.amount}\n                  onChange={this.handleChange}\n                />                \n              </Form.Field>\n            </Form>\n            {errors.length > 0 && (\n              <Message error>\n                <h3>Error</h3>\n                {this.displayErrors(errors)}\n              </Message>\n            )}\n          </Modal.Content>\n\n          <Modal.Actions>\n            <Button \n              color=\"green\" \n              inverted \n              onClick={this.handleSubmit}\n              disabled={loading}\n              className={loading ? \"loading\" : \"\"}\n            >\n              <Icon name=\"checkmark\" /> Add\n            </Button>\n\n            <Button color=\"red\" inverted onClick={this.closeModal}>\n              <Icon name=\"remove\" /> Cancel\n            </Button>\n          </Modal.Actions>\n        </Modal>\n      </React.Fragment>\n    )\n  }\n}\n\n \n\nexport default connect(null, { doSearch })(FeedPanel)\n","import React, { Component } from 'react';\nimport {connect} from 'react-redux';\n\nimport Api from '../../Api';\nimport qs from 'qs';\nimport { Table } from 'semantic-ui-react';\n\nclass Contribution extends Component {\n\n  state = {\n    data: null\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  componentWillReceiveProps({ search }) {    \n    if(Array.isArray(search) && search.length === 0){      \n      this.fetchData();\n    }\n  }\n\n  fetchData = () => {\n    Api.post('feed/list_feed',\n      qs.stringify({contribution: true})\n    ).then(r => r.data)\n    .then(({list}) => {              \n      this.setState({data: list})      \n    })\n    .catch( err =>{\n      console.error(err);\n    })\n  }\n\n  displayTableCell = () => {\n    const { data } = this.state;\n    const { currentUser } = this.props;\n    \n    if(!data){\n      return (\n        <Table.Row>\n          <Table.Cell colSpan='2'>Proccessing...</Table.Cell>\n        </Table.Row>\n      )\n    }\n    return data.map((r, index) => {\n      return (\n        <Table.Row key={r.id}>\n          <Table.Cell textAlign=\"center\">\n            <p className={currentUser.id === r.user_id ? 'ownContribution' : ''}>\n              {index+1}\n            </p>\n          </Table.Cell>\n          <Table.Cell> \n            <p className={currentUser.id === r.user_id ? 'ownContribution' : ''}>\n              {r.user_name}                      \n            </p>                        \n          </Table.Cell>\n          <Table.Cell textAlign=\"center\">\n            <p className={currentUser.id === r.user_id ? 'ownContribution' : ''}>\n              {r.total_cnt}                      \n            </p> \n          </Table.Cell>\n        </Table.Row>\n      )\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"contribution\">\n          <h4>Rank of Contribution</h4>\n          <Table basic='very' celled collapsing color=\"blue\">\n          <Table.Header>\n            <Table.Row>\n              <Table.HeaderCell>Rank</Table.HeaderCell>\n              <Table.HeaderCell>User</Table.HeaderCell>\n              <Table.HeaderCell>Contribute</Table.HeaderCell>\n            </Table.Row>\n          </Table.Header>\n      \n          <Table.Body>\n            {this.displayTableCell()}            \n          </Table.Body>\n        </Table>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {  \n  if(!state.search.currentSearch){\n    return {\n      search: []\n    }\n  }\n  return {\n    search: state.search.currentSearch,  \n  }\n}\n\nexport default connect(mapStateToProps)(Contribution)","import React, { Component } from 'react'\nimport { Menu } from 'semantic-ui-react'\nimport UserPanel from './UserPanel';\nimport FeedPanel from './FeedPanel';\nimport Contribution from './Contribution'\nexport default class SidePanel extends Component {\n  render() {\n    const {currentUser} = this.props;\n    \n    return (\n      <Menu\n        size=\"large\"\n        inverted\n        fixed=\"left\"\n        vertical\n        style={{background: '#4c3c4c', fontSize: '1.2rem'}}\n      >\n        \n        <UserPanel currentUser={currentUser} />\n        <FeedPanel currentUser={currentUser} />\n        <Contribution currentUser={currentUser}/>\n      </Menu>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { Icon, Table, Menu, Segment, Dimmer, Loader } from 'semantic-ui-react'\nimport { connect } from 'react-redux';\n\nimport Api from '../../Api';\nimport qs from 'qs';\nclass DataTable extends Component {\n\n  state = {\n    data: null,\n    page: 0,\n    pages: 1,\n    p: {}\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  componentWillReceiveProps({ search }) {    \n    const p = { \n      search_park: JSON.stringify(search.park),\n      search_food: JSON.stringify(search.name),\n      search_kind: JSON.stringify(search.kind)\n    };\n    this.setState({p, page:0}, ()=>this.fetchData(p));    \n  }\n  \n  fetchData = (p = {}) => {\n    Api.post('feed/list_feed',\n      qs.stringify({...p, page: this.state.page, need_pages: true})\n    ).then(r => r.data)\n    .then(({list, pages}) => {      \n      this.setState({data: list, pages});\n    })\n  }\n\n  renewData = () => {\n    this.setState({data: null}, ()=>this.fetchData(this.state.p))\n  }\n\n  // Table Body\n  displayTableBody = () => {\n    const { data } = this.state;    \n    return !data ? (\n      <Table.Row>\n        <Table.Cell colSpan='7'>\n          <Segment>\n            <Dimmer active>\n              <Loader size='mini'></Loader>\n            </Dimmer>\n          </Segment>\n        </Table.Cell>\n      </Table.Row>) : \n      data.map(r => {\n       return (\n          <Table.Row key={r.id}>\n            <Table.Cell>{r.park}</Table.Cell>\n            <Table.Cell>{r.time}</Table.Cell>\n            <Table.Cell textAlign='right'>{r.numbers}</Table.Cell>\n            <Table.Cell>{r.is_regular === '1' ? 'Yes' : 'No'}</Table.Cell>\n            <Table.Cell textAlign='center'>{r.name}</Table.Cell>\n            <Table.Cell textAlign='center'>{r.kind}</Table.Cell>\n            <Table.Cell textAlign='center'>{r.amount}</Table.Cell>                        \n          </Table.Row>\n       )\n      })\n    \n  }\n\n  // Pages\n  displayPages = () => {\n    const { page, pages } = this.state;\n    if(pages <= 7){\n       return Array(pages).fill(0).map((row, index) => {\n          return (\n            <Menu.Item \n              as='a' \n              key={index}\n              className={index === page ? 'currentPage' : ''}\n              onClick={() => this.changePage(index)}\n            >\n              {index+1} \n            </Menu.Item>\n          )\n        });      \n    }\n\n    // pages > 7\n    if(page <= 3){\n      return [1,2,3,4,5,'...',pages].map((row, index) => {\n        return (\n          <Menu.Item \n            as='a' \n            key={index}\n            className={row-1 === page ? 'currentPage' : row === '...' ? 'pageDisabled' : ''}\n            onClick={() => this.changePage(row-1)}            \n          >\n            {row} \n          </Menu.Item>\n        )\n      }); \n    }\n\n    if(page >= pages-4){\n      return [1,'...',pages-4,pages-3,pages-2,pages-1,pages].map((row, index) => {\n        return (\n          <Menu.Item \n            as='a' \n            key={index}\n            className={row-1 === page ? 'currentPage' : row === '...' ? 'pageDisabled' : ''}\n            onClick={() => this.changePage(row-1)}            \n          >\n            {row} \n          </Menu.Item>\n        )\n      }); \n    }\n\n    return [1,'...',page+1,page+2,page+3,'...',pages].map((row, index) => {\n      return (\n        <Menu.Item \n          as='a' \n          key={index}\n          className={row-1 === page ? 'currentPage' : row === '...' ? 'pageDisabled' : ''}\n          onClick={() => this.changePage(row-1)}          \n        >\n          {row} \n        </Menu.Item>\n      )\n    }); \n  }\n\n  changePage = (page) => {\n    if(isNaN(page) || page < 0 || page >= this.state.pages) return;\n    this.setState({page}, this.renewData);    \n  }\n\n  render() {\n    const{ page, pages } = this.state;\n    return (\n      <div className=\"dataTable\">\n        <Segment>                  \n          <h1>Data Table</h1>\n          <Table celled structured>\n\n          {/* Header */}\n            <Table.Header>\n              <Table.Row>\n                <Table.HeaderCell rowSpan='2'>Where</Table.HeaderCell>\n                <Table.HeaderCell rowSpan='2'>Time</Table.HeaderCell>\n                <Table.HeaderCell rowSpan='2'>Numbers</Table.HeaderCell>\n                <Table.HeaderCell rowSpan='2'>Repeating</Table.HeaderCell>\n                <Table.HeaderCell colSpan='3'>Food</Table.HeaderCell>\n              </Table.Row>\n              <Table.Row>\n                <Table.HeaderCell>Name</Table.HeaderCell>\n                <Table.HeaderCell>Kind</Table.HeaderCell>\n                <Table.HeaderCell>Amount (kg)</Table.HeaderCell>\n              </Table.Row>\n            </Table.Header>\n          \n          {/* Body */}\n            <Table.Body>\n              {this.displayTableBody()}\n            </Table.Body>\n\n          { /* footer */}\n\n            <Table.Footer>\n              <Table.Row>\n                <Table.HeaderCell colSpan='7'>\n                  <Menu floated='right' pagination>\n                    <Menu.Item \n                      as='a' \n                      icon\n                      className={page === 0 ? 'pageDisabled' : ''}\n                      onClick={() => this.changePage(page-1)}            \n                    >\n                      <Icon name='chevron left' />\n                    </Menu.Item>\n                    {this.displayPages()}\n                    <Menu.Item\n                      as='a'\n                      icon\n                      className={page === pages-1 ? 'pageDisabled' : ''}\n                      onClick={() => this.changePage(page+1)}            \n                    >\n                      <Icon name='chevron right' />\n                    </Menu.Item>\n                  </Menu>\n                </Table.HeaderCell>\n              </Table.Row>\n            </Table.Footer>\n          </Table>\n        </Segment>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {  \n  if(!state.search.currentSearch){\n    return {\n      search: []\n    }\n  }\n  return {\n    search: state.search.currentSearch,  \n  }\n} \n\nexport default connect(mapStateToProps)(DataTable);","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport Api from '../../../Api';\nimport qs from 'qs';\nimport moment from 'moment';\n\nimport {\n  XYPlot,\n  XAxis,\n  YAxis,\n  VerticalGridLines,\n  HorizontalGridLines,  \n  MarkSeriesCanvas,\n  Hint\n} from 'react-vis';\n\nconst w=window,\nd = document,\ne = d.documentElement,\ng = d.getElementsByTagName('body')[0],\nwidth = w.innerWidth||e.clientWidth||g.clientWidth;\n\n\nconst changeData = (d) => {\n  return d.map(r => {\n    return {\n      x: parseFloat(moment(r.time).format('HH')) + parseFloat(moment(r.time).format('mm'))/60,\n      y: r.numbers,\n      size: r.amount,\n      color: Math.random() * 10,\n      opacity: Math.random() * 0.5 + 0.5,\n      Park: r.park,\n      Date: moment(r.time).format('DD/MM/YYYY'),\n      Time: moment(r.time).format('HH:mm'),\n      Numbers: r.numbers,\n      Food: r.name,\n      Kind: r.kind,\n      Amount: `${r.amount} kg`\n    }\n  })\n}\n\nconst colorRanges = {\n  typeA: ['#59E4EC', '#0D676C'],\n  typeB: ['#EFC1E3', '#B52F93']\n};\n\n\nclass DataPoints extends React.Component {\n  state = {\n    drawMode: 0,\n    data: [],\n    colorType: 'typeA',\n    value: false\n  };\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  componentWillReceiveProps({ search }) {\n    const p = { \n      search_park: JSON.stringify(search.park),\n      search_food: JSON.stringify(search.name),\n      search_kind: JSON.stringify(search.kind)\n    };\n    this.fetchData(p);\n  }\n\n  fetchData = (p = {}) => {\n    Api.post('feed/list_feed',\n      qs.stringify({...p, page_disabled: true})\n    ).then(r => r.data)\n    .then(({list}) => {              \n      if(list.length > 0){\n        this.setState({data: changeData(list)})      \n      }else{\n        this.setState({data: []})\n      } \n    })\n    .catch( err =>{\n      console.error(err);\n    })\n  }\n\n  render() {\n    const {data, colorType} = this.state;\n\n    const markSeriesProps = {\n      animation: true,\n      className: 'mark-series-example',\n      sizeRange: [5, 15],\n      seriesId: 'my-example-scatterplot',\n      colorRange: colorRanges[colorType],\n      opacityType: 'literal',\n      data,\n      onNearestXY: value => {        \n        this.setState({\n          value:{            \n            Park: value.Park,\n            Date: value.Date,\n            Time: value.Time,\n            Numbers: value.Numbers,\n            Food: value.Food,\n            Kind: value.Kind,\n            Amount: value.Amount,\n            x:value.x,\n            y:value.y\n          }\n        })\n      }\n    };\n\n    \n    return (\n      <div>\n        <h2>Data Points</h2>\n        <p><strong style={{color:'blue'}}>X-axis</strong>: Time(hour)</p>\n        <p><strong style={{color:'red'}}>Y-axis</strong>: Number of ducks</p>\n        <XYPlot\n          onMouseLeave={() => this.setState({value: false})}\n          width={width-350}\n          height={300}\n          xDomain={[0, 24]}\n        >\n          <VerticalGridLines />\n          <HorizontalGridLines />\n          <XAxis />\n          <YAxis />\n          {<MarkSeriesCanvas {...markSeriesProps} />}\n          \n          {this.state.value ? <Hint value={this.state.value} /> : null}\n        </XYPlot>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {  \n  if(!state.search.currentSearch){\n    return {\n      search: []\n    }\n  }\n  return {\n    search: state.search.currentSearch,  \n  }\n} \n\nexport default connect(mapStateToProps)(DataPoints);","import React, { Component } from 'react'\nimport { HorizontalBar } from 'react-chartjs-2';\nimport { connect } from 'react-redux';\n\nimport Api from '../../../Api';\nimport qs from 'qs';\n\nconst changeData = (d) => {  \n  const labels = d.map( r => r.name);\n  const data = d.map( r => parseFloat(r.total_amount));\n  const allAmount = data.reduce((sum, r) => sum + r);\n  return {\n    labels,\n    datasets: [\n      {\n        label: `What Food: Total ${allAmount} kg`,\n        backgroundColor: 'rgba(255,99,132,0.2)',\n        borderColor: 'rgba(255,99,132,1)',\n        borderWidth: 1,\n        hoverBackgroundColor: 'rgba(255,99,132,0.4)',\n        hoverBorderColor: 'rgba(255,99,132,1)',\n        data\n      }\n    ]\n  }\n}\nclass Food extends Component {\n\n  state = {\n    data:{}\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  componentWillReceiveProps({ search }) {\n    const p = { \n      search_park: JSON.stringify(search.park),\n      search_food: JSON.stringify(search.name),\n      search_kind: JSON.stringify(search.kind)\n    };\n    this.fetchData(p);\n  }\n\n  fetchData = (p = {}) => {\n    Api.post('feed/list_feed',\n      qs.stringify({...p, page_disabled:true, what_food: true})\n    ).then(r => r.data)\n    .then(({list}) => {\n      if(list.length > 0){\n        this.setState({data: changeData(list)})      \n      }else{\n        this.setState({data: {}})\n      }      \n    })\n    .catch( err =>{\n      console.error(err);\n    })\n  }\n\n  render() {\n    const { data } = this.state\n    \n    return (\n      <div>\n        <h2>What Food</h2>\n        <HorizontalBar data={data} />\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {  \n  if(!state.search.currentSearch){\n    return {\n      search: []\n    }\n  }\n  return {\n    search: state.search.currentSearch,  \n  }\n} \n\nexport default connect(mapStateToProps)(Food);","import React, { Component } from 'react'\nimport { HorizontalBar } from 'react-chartjs-2';\nimport { connect } from 'react-redux';\n\nimport Api from '../../../Api';\nimport qs from 'qs';\n\nconst changeData = (d) => {\n  const labels = d.map( r => r.park);\n  const data = d.map( r => parseFloat(r.total_numbers));\n  const allNumbers = data.reduce((sum, r) => sum + r);\n  return {\n    labels,\n    datasets: [\n      {\n        label: `Where: Total ${allNumbers} ducks`,\n        backgroundColor: 'rgba(155, 89, 182,0.2)',\n        borderColor: 'rgba(155, 89, 182,1)',\n        borderWidth: 1,\n        hoverBackgroundColor: 'rgba(155, 89, 182,0.4)',\n        hoverBorderColor: 'rgba(155, 89, 182,1)',\n        data\n      }\n    ]\n  }\n}\nclass Where extends Component {\n\n  state = {\n    data:{}\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  componentWillReceiveProps({ search }) {\n    const p = { \n      search_park: JSON.stringify(search.park),\n      search_food: JSON.stringify(search.name),\n      search_kind: JSON.stringify(search.kind)\n    };\n    this.fetchData(p);\n  }\n\n  fetchData = (p = {}) => {\n    Api.post('feed/list_feed',\n      qs.stringify({...p, page_disabled:true, where: true})\n    ).then(r => r.data)\n    .then(({list}) => {\n      if(list.length > 0){\n        this.setState({data: changeData(list)})      \n      }else{\n        this.setState({data: {}})\n      }      \n    })\n    .catch( err =>{\n      console.error(err);\n    })\n  }\n\n  render() {\n    const { data } = this.state\n    return (\n      <div>\n        <h2>What Park</h2>\n        <HorizontalBar data={data} />\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {  \n  if(!state.search.currentSearch){\n    return {\n      search: []\n    }\n  }\n  return {\n    search: state.search.currentSearch,  \n  }\n} \n\nexport default connect(mapStateToProps)(Where);\n","import React, { Component } from 'react'\nimport { HorizontalBar } from 'react-chartjs-2';\nimport { connect } from 'react-redux';\n\nimport Api from '../../../Api';\nimport qs from 'qs';\n\nconst changeData = (d) => {\n  const labels = d.map( r => r.what_time);\n  const data = d.map( r => parseFloat(r.total_cnt));\n  const allNumbers = data.reduce((sum, r) => sum + r);\n  return {\n    labels,\n    datasets: [\n      {\n        label: `What Time: Total ${allNumbers} data points`,\n        backgroundColor: 'rgba(52, 152, 219,0.2)',\n        borderColor: 'rgba(52, 152, 219,1)',\n        borderWidth: 1,\n        hoverBackgroundColor: 'rgba(52, 152, 219,0.4)',\n        hoverBorderColor: 'rgba(52, 152, 219,1)',\n        data\n      }\n    ]\n  }\n}\nclass Time extends Component {\n\n  state = {\n    data:{}\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  componentWillReceiveProps({ search }) {\n    const p = { \n      search_park: JSON.stringify(search.park),\n      search_food: JSON.stringify(search.name),\n      search_kind: JSON.stringify(search.kind)\n    };\n    this.fetchData(p);\n  }\n\n  fetchData = (p = {}) => {\n    Api.post('feed/list_feed',\n      qs.stringify({...p, page_disabled:true, what_time: true})\n    ).then(r => r.data)\n    .then(({list}) => {              \n      if(list.length > 0){\n        this.setState({data: changeData(list)})      \n      }else{\n        this.setState({data: {}})\n      } \n    })\n    .catch( err =>{\n      console.error(err);\n    })\n  }\n\n  render() {\n    const { data } = this.state\n    return (\n      <div>\n        <h2>What Time</h2>\n        <HorizontalBar data={data} />\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {  \n  if(!state.search.currentSearch){\n    return {\n      search: []\n    }\n  }\n  return {\n    search: state.search.currentSearch,  \n  }\n} \n\nexport default connect(mapStateToProps)(Time);","import React, { Component } from 'react'\nimport { HorizontalBar } from 'react-chartjs-2';\nimport { connect } from 'react-redux';\n\nimport Api from '../../../Api';\nimport qs from 'qs';\n\nconst changeData = (d) => {  \n  const labels = d.map( r => r.kind);\n  const data = d.map( r => parseFloat(r.total_amount));\n  const allAmount = data.reduce((sum, r) => sum + r);\n  return {\n    labels,\n    datasets: [\n      {\n        label: `What Kind of Food: Total ${allAmount} kg`,\n        backgroundColor: 'rgba(46, 204, 113,0.2)',\n        borderColor: 'rgba(46, 204, 113,1)',\n        borderWidth: 1,\n        hoverBackgroundColor: 'rgba(46, 204, 113,0.4)',\n        hoverBorderColor: 'rgba(46, 204, 113,1)',\n        data\n      }\n    ]\n  }\n}\nclass FoodKind extends Component {\n\n  state = {\n    data:{}\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  componentWillReceiveProps({ search }) {\n    const p = { \n      search_park: JSON.stringify(search.park),\n      search_food: JSON.stringify(search.name),\n      search_kind: JSON.stringify(search.kind)\n    };\n    this.fetchData(p);\n  }\n\n  fetchData = (p = {}) => {\n    Api.post('feed/list_feed',\n      qs.stringify({...p, page_disabled:true, kind_food: true})\n    ).then(r => r.data)\n    .then(({list}) => {              \n      if(list.length > 0){\n        this.setState({data: changeData(list)})      \n      }else{\n        this.setState({data: {}})\n      } \n    })\n    .catch( err =>{\n      console.error(err);\n    })\n  }\n\n  render() {\n    const { data } = this.state\n    return (\n      <div>\n        <h2>What Kind of Food</h2>\n        <HorizontalBar data={data} />\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {  \n  if(!state.search.currentSearch){\n    return {\n      search: []\n    }\n  }\n  return {\n    search: state.search.currentSearch,  \n  }\n} \n\nexport default connect(mapStateToProps)(FoodKind);","import React, { Component } from 'react'\nimport { Grid, Segment } from 'semantic-ui-react';\n\nimport DataPoints from './DataPoints';\nimport Food from './Food';\nimport Where from './Where';\nimport Time from './Time';\nimport FoodKind from './FoodKind';\n\n\nexport default class DataVisual extends Component {\n  render() {\n    return (\n      <div style={{marginBottom: '15px', padding: '10px'}}>\n        <Grid>\n          {/* ALL */}\n          <Grid.Row>\n            <Grid.Column>\n              <Segment>\n                <DataPoints />\n              </Segment>\n            </Grid.Column>\n          </Grid.Row>\n          {/* basic */}\n          <Grid.Row columns={2}>\n            <Grid.Column>\n              <Segment>\n                <Time />\n              </Segment>              \n            </Grid.Column>\n            <Grid.Column>\n              <Segment>              \n                <Where />\n              </Segment>              \n            </Grid.Column>            \n          </Grid.Row>\n          {/* food */}\n          <Grid.Row columns={2}>\n            <Grid.Column>\n              <Segment>\n                <Food />              \n              </Segment>\n            </Grid.Column>\n            <Grid.Column>\n              <Segment>\n                <FoodKind />              \n              </Segment>\n            </Grid.Column>\n          </Grid.Row>\n      </Grid>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport { Dropdown, Grid, Segment } from 'semantic-ui-react';\nimport {connect} from 'react-redux'\nimport { doSearch } from '../../actions';\n\nimport Api from '../../Api';\n\n\nclass Search extends Component {\n  state = {\n    park:[],\n    name:[],\n    kind:[],\n    parkOptions:[],\n    foodOptions:[],\n    kindOptions:[]\n  }\n\n  componentDidMount() {\n    this.fetchOptionData()\n  }\n\n  componentWillReceiveProps({ search }) {    \n    if(Array.isArray(search) && search.length === 0){\n      this.setState({\n        park:[],\n        name:[],\n        kind:[]\n      });\n      this.fetchOptionData();\n    }\n  }\n\n  fetchOptionData = () => {\n    Api.post('feed/list_all_options').then(r => r.data)\n    .then(({error_code, option_park, option_food, option_kind}) => {\n      if(error_code === 'Authorization Error'){                \n        return;\n      }\n      this.setState({\n        parkOptions: option_park.map(j => ({ key: j.id, value: j.park, text: j.park })),\n        foodOptions: option_food.map(j => ({ key: j.id, value: j.name, text: j.name })),\n        kindOptions: option_kind.map(j => ({ key: j.id, value: j.kind, text: j.kind })),\n      })\n    })\n    .catch( err =>{\n      console.error(err);\n    })   \n  }\n\n  // handle search\n\n  handleParkChange = (e, {value}) => {\n    this.setState({park: value},\n      () => this.props.doSearch(this.state)\n    )\n  }\n\n  handleFoodChange = (e, {value}) => {\n    this.setState({name: value},\n      () => this.props.doSearch(this.state)\n    )\n  }\n\n  handleKindChange = (e, {value}) => {\n    this.setState({kind: value},\n      () => this.props.doSearch(this.state)\n    )\n  }\n\n  render() {\n    const { park, name, kind, parkOptions, foodOptions, kindOptions } = this.state;\n    return (\n      <div className=\"search\">\n        <Segment>\n          <h2>Search</h2>\n          <Grid columns=\"equal\">\n            <Grid.Row>\n              <Grid.Column>                \n                  <Dropdown \n                    placeholder='Park'\n                    fluid multiple search selection \n                    options={parkOptions}\n                    value={park}\n                    onChange={this.handleParkChange}                \n                  />                \n              </Grid.Column>              \n              <Grid.Column> \n                <Dropdown \n                  placeholder='Name of Food'\n                  fluid multiple search selection                              \n                  options={foodOptions}\n                  value={name}\n                  onChange={this.handleFoodChange}                \n                />                \n              </Grid.Column>\n              <Grid.Column>                \n                <Dropdown \n                  placeholder='Kind of Food'\n                  fluid multiple search selection \n                  options={kindOptions}\n                  value={kind}\n                  onChange={this.handleKindChange}\n                />                \n              </Grid.Column>\n              \n            </Grid.Row>      \n          </Grid> \n        </Segment>                       \n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {  \n  if(!state.search.currentSearch){\n    return {\n      search: []\n    }\n  }\n  return {\n    search: state.search.currentSearch,  \n  }\n}\n\nexport default connect(mapStateToProps, { doSearch } )(Search)","import React, { Component } from 'react'\nimport DataTable from './DataTable';\nimport DataVisual from './DataVisual/DataVisual';\nimport Search from './Search'\nexport default class Dashboard extends Component {\n  render() {\n    return (\n      <div>\n        <Search/>\n        <DataVisual/>        \n        <DataTable currentUser={this.props.currentUser}/>\n      </div>\n    )\n  }\n}\n","import React from 'react';\nimport { Grid } from 'semantic-ui-react';\nimport './App.css';\nimport { connect } from 'react-redux';\n\nimport SidePanel from './SidePanel/SidePanel'\nimport Dashboard from './Dashboard/Dashboard'\n\nconst App = ({currentUser}) => (\n  <Grid columns=\"equal\" className=\"app\" style={{background:'#eee'}}>\n  \n    <SidePanel \n        key={currentUser && currentUser.id}\n        currentUser={currentUser}        \n      />\n\n    <Grid.Column style={{marginLeft:250}}>\n      <Dashboard currentUser={currentUser}/>\n    </Grid.Column>\n    \n    \n  </Grid>\n)\n\nconst mapStateToProps = state => ({\n  currentUser: state.user.currentUser,\n})\n\nexport default connect(mapStateToProps)(App);","import React, { Component } from 'react';\nimport { Grid, Form, Segment, Button, Header, Message, Icon} from 'semantic-ui-react';\nimport Api from '../../Api';\nimport qs from 'qs';\nimport { Link } from 'react-router-dom';\n\n\nexport default class Login extends Component {\n  state = {    \n    email: '',\n    password: '',    \n    errors: [],\n    loading: false,    \n  };\n\n  \n  displayErrors = errors => errors.map((error, i)=> <p key={i}>{error.message}</p>);\n\n  handleChange = event => {    \n    this.setState({[event.target.name]: event.target.value})\n  }\n\n  handleSubmit = event => {\n    event.preventDefault();\n    if(!this.isFormValid()) return\n    this.setState({ errors: [], loading: true });\n    Api.post(`users/login`,\n      qs.stringify({email: this.state.email, password: this.state.password})\n      )\n      .then(r => r.data)\n      .then(r => {              \n        if(r.error_code){\n          console.error(r.error_code);\n          const err = {\"message\" : r.error_code.join()};\n\n          this.setState({\n            errors: this.state.errors.concat(err),\n            loading: false\n          });\n        }else{\n          console.log('login succeed');\n          localStorage.setItem('ACCESS_TOKEN', r.token);\n          Api.defaults.headers.common['Authorization'] = r.token;\n          this.setState({ loading: false });\n          this.props.setUser(r.user);\n          this.props.history.push('/');          \n        }\n      })\n      .catch(err => {\n        console.error(err);\n        this.setState({\n          errors: this.state.errors.concat(err),\n          loading: false\n        })\n      }) \n  }\n\n  isFormValid = () => {\n    let errors = [];\n    let error;\n\n    if(this.isFormEmpty(this.state)){\n      // throw errors\n      error = {message: 'Fill in all fields'};\n      this.setState({errors: errors.concat(error)})\n      return false\n    } else {\n      return true;\n    }\n  }\n\n  isFormEmpty = ({ email, password}) => {\n    return !email.length || !password.length;\n  }\n\n  handleInputError = (errors, inputName) => {\n    return errors.some(error => error.message.toLowerCase().includes(inputName))\n      ? \"error\"\n      : \"\";\n  };\n\n  render() {    \n    const { email, password, errors, loading } = this.state;\n\n    return (\n      <Grid textAlign=\"center\" verticalAlign=\"middle\" className=\"app\">\n        <Grid.Column style={{maxWidth: 450}}>\n          <Header as=\"h2\" icon color=\"yellow\" textAlign=\"center\">\n            <Icon name=\"paw\" color=\"yellow\"/>\n            Login to DuckFeed\n          </Header>\n          <Form size=\"large\" onSubmit={this.handleSubmit}>\n            <Segment stacked>              \n\n              <Form.Input fluid name=\"email\" icon=\"mail\" iconPosition=\"left\"\n                className={this.handleInputError(errors, \"email\")}\n                placeholder=\"Email Address\" onChange={this.handleChange} value={email}  type=\"email\"/>\n\n              <Form.Input fluid name=\"password\" icon=\"lock\" iconPosition=\"left\"\n              className={this.handleInputError(errors, \"password\")}\n              placeholder=\"Password\" onChange={this.handleChange} value={password} type=\"password\"/>\n\n              \n\n              <Button color=\"yellow\" fluid size=\"large\" disabled={loading}\n              className={loading ? \"loading\" : \"\"}>Submit</Button>\n            </Segment>\n          </Form>\n          {errors.length > 0 && (\n            <Message error>\n              <h3>Error</h3>\n              {this.displayErrors(errors)}\n            </Message>\n          )}\n          <Message>Don't have an account? <Link to=\"/register\" >Register</Link></Message>\n\n        </Grid.Column>\n      </Grid>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { Grid, Form, Segment, Button, Header, Message, Icon} from 'semantic-ui-react'\nimport Api from '../../Api';\nimport qs from \"qs\";\nimport { Link } from 'react-router-dom'\n\n\nexport default class Register extends Component {\n  state = {\n    name: '',\n    email: '',\n    password: '',\n    passwordConfirmation: '',\n    errors: [],\n    loading: false,    \n  };\n\n  isFormValid = () => {\n    let errors = [];\n    let error;\n\n    if(this.isFormEmpty(this.state)){\n      // throw errors\n      error = {message: 'Fill in all fields'};\n      this.setState({errors: errors.concat(error)})\n      return false\n    } else if(!this.isPasswordValid(this.state)){\n      // throw errors\n      error = { message: 'Password is invalid'};\n      this.setState({errors:errors.concat(error)});\n    } else {\n      return true;\n    }\n  }\n\n  isFormEmpty = ({ name, email, password, passwordConfirmation}) => {\n    return !name.length || !email.length || !password.length || !passwordConfirmation.length\n  }\n\n  isPasswordValid = ({password, passwordConfirmation}) => {\n    if(password.length < 6 || passwordConfirmation.length < 6){\n      return false;\n    }else if(password !== passwordConfirmation){\n      return false;\n    }\n    return true;\n  }\n\n  displayErrors = errors => errors.map((error, i)=> <p key={i}>{error.message}</p>);\n\n  handleChange = event => {    \n    this.setState({[event.target.name]: event.target.value})\n  }\n\n  handleSubmit = event => {\n    event.preventDefault();\n    if(!this.isFormValid()) return\n    this.setState({ errors: [], loading: true });\n    Api.post('users/signup',\n      qs.stringify({name: this.state.name, email: this.state.email, password: this.state.password})\n    )\n      .then(r => r.data)\n      .then(r => {        \n        if(r.error_code){\n          console.error(r.error_code);\n          const err = {\"message\" : r.error_code.join()};\n\n          this.setState({\n            errors: this.state.errors.concat(err),\n            loading: false\n          });\n        }else{\n          localStorage.setItem('ACCESS_TOKEN', r.token);\n          Api.defaults.headers.common['Authorization'] = r.token;\n          this.setState({ loading: false });\n          this.props.setUser(r.user);\n          this.props.history.push('/')\n        }\n      })\n      .catch(err => {\n        console.error(err)\n        this.setState({\n          errors: this.state.errors.concat(err),\n          loading: false\n        });\n      })\n    \n  }\n\n  \n\n  handleInputError = (errors, inputName) => {\n    return errors.some(error => error.message.toLowerCase().includes(inputName))\n      ? \"error\"\n      : \"\";\n  };\n\n  render() {    \n    const { name, email, password, passwordConfirmation, errors, loading } = this.state;\n\n    return (\n      <Grid textAlign=\"center\" verticalAlign=\"middle\" className=\"app\">\n        <Grid.Column style={{maxWidth: 450}}>\n          <Header as=\"h2\" icon color=\"orange\" textAlign=\"center\">\n            <Icon name=\"paw\" color=\"orange\"/>\n            Register for DuckFeed\n          </Header>\n          <Form size=\"large\" onSubmit={this.handleSubmit}>\n            <Segment stacked>\n              <Form.Input fluid name=\"name\" icon=\"user\" iconPosition=\"left\"\n              placeholder=\"Username\" onChange={this.handleChange} value={name} type=\"text\"/>\n\n              <Form.Input fluid name=\"email\" icon=\"mail\" iconPosition=\"left\"\n                className={this.handleInputError(errors, \"email\")}\n                placeholder=\"Email Address\" onChange={this.handleChange} value={email}  type=\"email\"/>\n\n              <Form.Input fluid name=\"password\" icon=\"lock\" iconPosition=\"left\"\n              className={this.handleInputError(errors, \"password\")}\n              placeholder=\"Password\" onChange={this.handleChange} value={password} type=\"password\"/>\n\n              <Form.Input fluid name=\"passwordConfirmation\" icon=\"repeat\" iconPosition=\"left\"\n              className={this.handleInputError(errors, \"password\")}\n              placeholder=\"Password Confirmation\" onChange={this.handleChange} value={passwordConfirmation} type=\"password\"/>\n\n              <Button color=\"orange\" fluid size=\"large\" disabled={loading}\n              className={loading ? \"loading\" : \"\"}>Submit</Button>\n            </Segment>\n          </Form>\n          {errors.length > 0 && (\n            <Message error>\n              <h3>Error</h3>\n              {this.displayErrors(errors)}\n            </Message>\n          )}\n          <Message>Already a user? <Link to=\"/login\" >Login</Link></Message>\n\n        </Grid.Column>\n      </Grid>\n    )\n  }\n}\n","import React from 'react'\nimport { Loader, Dimmer } from 'semantic-ui-react'\n\nconst Spinner = () => (\n  <Dimmer active>\n    <Loader size=\"huge\" content={\"Preparing...\"} />\n  </Dimmer>\n)\n\nexport default Spinner;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import * as actionTypes from '../actions/types'\nimport { combineReducers } from 'redux';\n\n/* User reducer */ \n\nconst initialUser = {\n  currentUser: null,\n  isLoading: true\n}\n\nconst user_reducer = (state = initialUser, action) => {\n  switch(action.type){\n    case actionTypes.SET_USER:\n      return {\n        currentUser: action.payload.currentUser,\n        loading: false\n      }\n    case actionTypes.CLEAR_USER:\n      return {\n        ...state,\n        isLoading: false\n      }\n    default:\n      return state;\n  }\n}\n\n/* Search Reducer */\nconst initialSearch = {\n  park:[],\n  name:[],\n  kind:[]\n}\n\nconst search_reducer = (state = initialSearch, action) => {\n  switch(action.type){\n    case actionTypes.DO_SEARCH:\n      return {\n        currentSearch: action.payload.currentSearch,\n        // loading: false\n      }\n    default:\n      return state;\n  }\n}\n\n\nconst rootReducer = combineReducers({\n  user: user_reducer,\n  search: search_reducer\n})\n\nexport default rootReducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/App';\nimport Login from './components/Auth/Login';\nimport Register from './components/Auth/Register';\nimport Spinner from './Spinner';\nimport qs from 'qs';\n// import axios from 'axios';\nimport Api from './Api';\nimport * as serviceWorker from './serviceWorker';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  withRouter\n} from 'react-router-dom'\n\nimport 'semantic-ui-css/semantic.min.css';\nimport '../node_modules/react-vis/dist/style.css';\nimport {\n  createStore\n} from 'redux';\nimport {\n  Provider,\n  connect\n} from 'react-redux';\nimport {\n  composeWithDevTools\n} from 'redux-devtools-extension';\n\nimport rootReducers from './reducers';\nimport { setUser, clearUser } from './actions';\n\nconst store = createStore(rootReducers, composeWithDevTools());\nclass Root extends React.Component {\n  componentDidMount = () => {    \n    const token = localStorage.getItem('ACCESS_TOKEN');\n    \n    if(token){\n      // this.props.setUser(user);\n      Api.post('users/check_token',\n        qs.stringify({token})\n      ).then(r => r.data)\n      .then(r => {\n        console.log(r)\n        if(r.valid){ \n          console.log('user valid');\n          this.props.setUser(r.user);           \n          this.props.history.push('/');\n        }else{\n          this.props.history.push('/login');\n          localStorage.setItem('ACCESS_TOKEN', '');\n          this.props.clearUser();\n        }        \n      })\n    }else{\n      this.props.history.push('/login');\n      localStorage.setItem('ACCESS_TOKEN', '');\n      this.props.clearUser();\n    }\n  }\n \n  render() {\n    return (\n\n      this.props.isLoading ? <Spinner/> : (\n        <Switch >\n          <Route exact path = \"/\" component = {App} /> \n          <Route path = \"/login\"  render={(props) => <Login {...props} setUser={this.props.setUser}/>} />\n          <Route path = \"/register\" render={(props) => <Register {...props} setUser={this.props.setUser}/>}/> \n        </Switch>\n      )\n\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  isLoading: state.user.isLoading\n})\n  \n\n\nconst RootWithAuth = withRouter(\n    connect(mapStateToProps, { setUser, clearUser })(Root)\n  );\n\nReactDOM.render( \n  <Provider store={store}>\n    <Router>\n      <RootWithAuth />\n    </Router>\n  </Provider>\n  , document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();"],"sourceRoot":""}